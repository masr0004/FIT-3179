/* ===== Theme ===== */
:root{
  --ink:#172026;
  --muted:#5f6b73;
  --paper:#fff;
  --wash:#f1f6fa;
  --line:#e6edf1;
  --accent:#0aa3a8;
  --radius:16px;
  --shadow:0 6px 18px rgba(0,0,0,.06);
}

/* Base */
html,body{margin:0;padding:0;overflow-x:hidden;} /* hard stop horizontal scroll */
body{
  font-family: system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  color:var(--ink);
  background: radial-gradient(1100px 600px at 50% -120px, #eaf7f7 0%, #f5fbfe 60%, #ffffff 100%);
}

/* Container â€“ a bit wider to reduce side whitespace + balanced padding */
.shell{
  max-width:1280px;     /* wider than before */
  margin:0 auto;
  padding:22px 24px 64px; /* slightly more side padding for proportional look */
}

/* ===== Hero ===== */
.hero{
  background:linear-gradient(180deg,#ffffffcc,#ffffffcc);
  border:1px solid var(--line);
  border-radius:24px;
  padding:28px 24px;
  box-shadow:var(--shadow);
}
.hero__kicker{ letter-spacing:.12em; text-transform:uppercase; color:var(--muted); font-weight:600; font-size:12px; margin:0 0 6px; }
.hero__title{ margin:0 0 8px; font-size:36px; line-height:1.1; }
.hero__sub{ color:var(--muted); max-width:860px; margin:0 0 10px; }
.hero__meta{ display:flex; gap:10px; flex-wrap:wrap; color:var(--muted); font-size:13px }
.tag{ background:var(--wash); border:1px solid var(--line); padding:6px 10px; border-radius:999px; }

/* ===== Sections ===== */
.block{ margin-top:28px; }
.block__head{
  background:var(--wash);
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px 16px;
  box-shadow:0 4px 12px rgba(0,0,0,.045);
  margin-bottom:12px;
}
.block__title{
  margin:0; font-size:20px; display:flex; align-items:center; gap:8px;
}
.block__title::before{
  content:""; inline-size:8px; block-size:20px; background:var(--accent); border-radius:4px;
}
.block__desc{ margin:.4rem 0 0; color:var(--muted); font-size:14.5px }

/* ===== Cards ===== */
.card{
  background:var(--paper);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:18px;                 /* a bit more padding for proportional feel */
  box-shadow:var(--shadow);
}
.card__title{ margin:2px 0 12px; font-size:16px; color:var(--accent); }

/* Keep Vega charts contained */
.chart{ width:100%; max-width:100%; margin:0 auto; }
.card canvas, .card svg, .card img{ max-width:100%; height:auto; display:block; }

/* Map: allow overflow for slider/legend but no scrollbars */
#block-map .card{ overflow:visible; padding-bottom:24px; border-radius:20px; }

/* ===== Simple two-column row (fertilizer + donut) ===== */
.row-2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:18px;
  align-items:start;
}

/* Insights bar placed below the pair */
.note-bar{
  margin-top:12px;
  background:var(--wash);
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px 16px;
  box-shadow:0 4px 12px rgba(0,0,0,.05);
}
.note-bar h4{ margin:0 0 8px; color:var(--accent); font-size:16px }

/* ===== Lines + Lines2 + side note (right) ===== */
.grid-lines-with-note{
  display:grid;
  grid-template-columns: 1fr 1fr minmax(260px, 0.9fr);
  grid-template-areas:
    "a b note";
  gap:18px;
  align-items:start;
}
.area-a{ grid-area:a; }
.area-b{ grid-area:b; }
.area-note{ grid-area:note; }

/* Note box shared style */
.note-box{
  background:var(--wash);
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px 16px;
  box-shadow:0 4px 12px rgba(0,0,0,.05);
}
.note-box h4{ margin:0 0 8px; color:var(--accent); font-size:16px }

/* ===== Imports/Exports + Employment stacked with side note ===== */
.grid-stack-with-note{
  display:grid;
  grid-template-columns: 1fr minmax(260px, 0.9fr);
  grid-template-rows: auto auto;
  grid-template-areas:
    "top  note"
    "bottom note";
  gap:18px;
  align-items:start;
}
.s-area-top{ grid-area:top; }
.s-area-bottom{ grid-area:bottom; }
.s-area-note{ grid-area:note; }

/* Footer */
.footer{ margin-top:34px; text-align:center; color:var(--muted); font-size:13px; }

/* ===== Responsive ===== */
@media (max-width: 1100px){
  .grid-lines-with-note{
    grid-template-columns: 1fr;
    grid-template-areas:
      "a"
      "b"
      "note";
  }
  .grid-stack-with-note{
    grid-template-columns: 1fr;
    grid-template-areas:
      "top"
      "bottom"
      "note";
  }
}

@media (max-width: 760px){
  .row-2{ grid-template-columns: 1fr; }
  .hero__title{ font-size:30px; }
}

@media (max-width: 560px){
  .shell{ padding:18px 14px 48px; }
  .hero{ padding:22px 16px; }
  .hero__title{ font-size:26px; }
  .block__title{ font-size:18px; }
}

/* === Tweak: Trade & Employment note panel width & height === */
#block-trade-employment .grid-stack-with-note {
  /* Narrower note column */
  grid-template-columns: minmax(0, 1fr) minmax(240px, 0.35fr);
}

/* Make the note span slightly taller again */
#block-trade-employment .s-area-note {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  min-height: auto;
  max-height: 480px;  /* slightly increased from 400px */
  padding-top: 16px;  /* increased from 12px */
  padding-bottom: 16px;
  overflow-y: auto;
}

/* Keep the mobile behavior unchanged (stacked) */
@media (max-width: 1100px) {
  #block-trade-employment .grid-stack-with-note {
    grid-template-columns: 1fr;
  }
}

